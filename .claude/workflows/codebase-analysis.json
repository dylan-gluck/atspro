{
  "id": "codebase-analysis",
  "name": "Comprehensive Codebase Analysis",
  "description": "Analyzes codebase structure, patterns, and quality",
  "version": "1.0.0",
  "parallel": true,
  "steps": [
    {
      "id": "documentation",
      "name": "Documentation Analysis",
      "agent": "doc-expert",
      "action": "analyze",
      "inputs": {
        "scope": "$ANALYSIS_SCOPE",
        "focus": "documentation"
      },
      "outputs": [
        "documentation_report",
        "api_inventory",
        "missing_docs"
      ],
      "memory_keys": [
        "doc_analysis"
      ]
    },
    {
      "id": "frontend",
      "name": "Frontend Analysis",
      "agent": "frontend-eng",
      "action": "analyze",
      "inputs": {
        "scope": "apps/web",
        "focus": "components,hooks,services"
      },
      "outputs": [
        "component_inventory",
        "state_management",
        "api_integration"
      ],
      "memory_keys": [
        "frontend_analysis"
      ]
    },
    {
      "id": "backend",
      "name": "Backend Analysis",
      "agent": "fullstack-eng",
      "action": "analyze",
      "inputs": {
        "scope": "apps/api",
        "focus": "endpoints,models,services"
      },
      "outputs": [
        "api_routes",
        "data_models",
        "service_architecture"
      ],
      "memory_keys": [
        "backend_analysis"
      ]
    },
    {
      "id": "quality",
      "name": "Code Quality Review",
      "agent": "code-review",
      "action": "audit",
      "inputs": {
        "frontend": "@memory:frontend_analysis",
        "backend": "@memory:backend_analysis"
      },
      "outputs": [
        "quality_report",
        "technical_debt",
        "improvement_suggestions"
      ],
      "memory_keys": [
        "quality_report"
      ]
    }
  ],
  "aggregation": {
    "agent": "doc-expert",
    "action": "summarize",
    "inputs": [
      "@memory:doc_analysis",
      "@memory:frontend_analysis",
      "@memory:backend_analysis",
      "@memory:quality_report"
    ],
    "output": "comprehensive_analysis"
  }
}